---
import Layout from "../layouts/Layout.astro";
---

<Layout>
	<h1>Welcome to Cat Facts!</h1>
	<p>Get ready to learn some fascinating facts about cats.</p>
	<p>Here's a random cat fact for you:</p>
	<p id="Fact"></p>
	<button id="trigger">Get a new cat fact</button>
	<script>
		const button = document.querySelector("button#trigger");
		const fact = document.querySelector("p#Fact");

		button.addEventListener("click", async () => {
			const response = await fetch(
				"https://catfact.ninja/fact?max_length=140"
			);
			const data = await response.json();
			if (fact) {
				fact.textContent = data.fact;
			}
		});

		document.onload = button.click();
	</script>
</Layout>
